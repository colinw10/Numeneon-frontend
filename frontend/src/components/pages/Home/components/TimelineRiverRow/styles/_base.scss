/* ============================================
   BASE LAYOUT - Grid & Column Structure
   Core layout for timeline rows
   ============================================ */

.timeline-river-row {
  display: grid;
  gap: var(--space-md);
  margin-bottom: var(--space-lg);
  width: 100%;
  overflow-x: visible;
  position: relative;
  z-index: 1;
  isolation: isolate;
  align-items: start;
}

/* Adaptive column layouts based on number of post types */
.timeline-river-row--1-col {
  grid-template-columns: 1fr;
}

.timeline-river-row--2-col {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.timeline-river-row--3-col {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

/* Force all smart-decks to respect grid boundaries */
.smart-deck {
  min-width: 0;
  width: 100%;
}

.smart-deck-card-container {
  min-width: 0;
}

.river-post-card {
  min-width: 0;
  width: 100%;
}

/* River Column - vertical container for posts */
.river-column {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  min-width: 0;
  position: relative;
  flex: 1;
}

/* ============================================
   POST TYPE WIDTH DIFFERENTIATION
   ============================================ */

.post--thoughts,
.post--media,
.post--milestones {
  width: 100%;
}

/* ============================================
   SINGLE POST CENTERING
   When only one post exists in the row
   ============================================ */

.post--single {
  width: 70%;
  margin: 0 auto !important;
  max-width: 700px;
}

.post--thoughts.post--single {
  width: 65%;
  max-width: 650px;
}

/* ============================================
   COMPACT POST (short content < 80 chars)
   Width fits content, centered in column
   ============================================ */

.post--compact {
  width: fit-content;
  min-width: 200px;
  max-width: 400px;
  margin: 0 auto;
}

.post--media.post--single {
  width: 75%;
  max-width: 750px;
}
